@if (temp.hasValue()) {
  Health: {{temp.value()}}
}

@if (idn.hasValue()) {
  IDN: {{idn.value().response}}
} @else {
  {{idnError()?.error}}
}

@if (error()) {
  Error: {{error()}}
}

<div>
  <input type="text" [(ngModel)]="inputText" autofocus (keydown.enter)="send()"/>
  <button (click)="send()">Send</button>
  <div>
    <label>
      <input type="checkbox" [(ngModel)]="simulated"/>
      Simulated
    </label>
    <label>
      <input type="checkbox" [(ngModel)]="autoSystErr"/>
      Auto :SYST:ERR?
    </label>
  </div>
</div>

<div class="log">
  @for (entry of log(); track entry.time) {
    <div class="entry">
      {{entry.time | date:'medium'}}
      {{entry.scpi}}
      {{entry.response}}
      {{entry.serverError}}
      <!-- TODO: fix track -->
      @for (error of entry.errors; track error) {
        {{error}}
      }
    </div>
  }
</div>
